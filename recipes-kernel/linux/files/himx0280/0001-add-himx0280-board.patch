From d28d464c5674f6132260b3564baf22637d5a2832 Mon Sep 17 00:00:00 2001
From: Steffen Sledz <sledz@dresearch-fe.de>
Date: Tue, 10 Jun 2014 16:55:04 +0200
Subject: [PATCH] add himx0280 board

This is not yet functionally!

Signed-off-by: Steffen Sledz <sledz@dresearch-fe.de>
---
 arch/arm/boot/dts/Makefile           |  1 +
 arch/arm/boot/dts/imx6q-himx0280.dts | 72 ++++++++++++++++++++++++++++++++++++
 arch/arm/tools/mach-types            |  3 ++
 3 files changed, 76 insertions(+)
 create mode 100644 arch/arm/boot/dts/imx6q-himx0280.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 04b6f18..6d76a38 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -117,6 +117,7 @@ dtb-$(CONFIG_ARCH_MXC) += \
 	imx6dl-nitrogen6x.dtb \
 	imx6dl-nitrogen6_max.dtb \
 	imx6dl-nitrogen6_mtp.dtb \
+	imx6dl-himx0280.dtb \
 	imx6dl-sabreauto.dtb \
 	imx6dl-sabreauto-ecspi.dtb \
 	imx6dl-sabreauto-flexcan1.dtb \
diff --git a/arch/arm/boot/dts/imx6q-himx0280.dts b/arch/arm/boot/dts/imx6q-himx0280.dts
new file mode 100644
index 0000000..e96d56a
--- /dev/null
+++ b/arch/arm/boot/dts/imx6q-himx0280.dts
@@ -0,0 +1,72 @@
+/*
+ * Copyright 2013 Boundary Devices
+ * Copyright 2012 Freescale Semiconductor, Inc.
+ * Copyright 2011 Linaro Ltd.
+ *
+ * The code contained herein is licensed under the GNU General Public
+ * License. You may obtain a copy of the GNU General Public License
+ * Version 2 or later at the following locations:
+ *
+ * http://www.opensource.org/licenses/gpl-license.html
+ * http://www.gnu.org/copyleft/gpl.html
+ */
+
+/dts-v1/;
+
+#include <dt-bindings/interrupt-controller/irq.h>
+#include "imx6q.dtsi"
+#include "imx6qdl-nitrogen6x.dtsi"
+
+/ {
+	model = "DResearch i.MX6 based device (ip camera)";
+	compatible = "fsl,imx6q-nitrogen6x", "fsl,imx6q";
+};
+
+&mxcfb1 {
+	status = "okay";
+};
+
+&mxcfb2 {
+	status = "okay";
+};
+
+&mxcfb3 {
+	status = "okay";
+};
+
+&mxcfb4 {
+	status = "okay";
+};
+
+&ov5640 {
+	ipu_id = <1>;
+};
+
+&pinctrl_ov5640 { /* parallel camera */
+	fsl,pins = <
+		MX6QDL_PAD_EIM_A17__IPU2_CSI1_DATA12	0xb0b1
+		MX6QDL_PAD_EIM_A18__IPU2_CSI1_DATA13	0xb0b1
+		MX6QDL_PAD_EIM_A19__IPU2_CSI1_DATA14	0xb0b1
+		MX6QDL_PAD_EIM_A20__IPU2_CSI1_DATA15	0xb0b1
+		MX6QDL_PAD_EIM_A21__IPU2_CSI1_DATA16	0xb0b1
+		MX6QDL_PAD_EIM_A22__IPU2_CSI1_DATA17	0xb0b1
+		MX6QDL_PAD_EIM_A23__IPU2_CSI1_DATA18	0xb0b1
+		MX6QDL_PAD_EIM_EB2__IPU2_CSI1_DATA19	0xb0b1
+		MX6QDL_PAD_EIM_DA10__IPU2_CSI1_DATA_EN	0xb0b1
+		MX6QDL_PAD_EIM_A16__IPU2_CSI1_PIXCLK	0xb0b1
+		MX6QDL_PAD_EIM_DA11__IPU2_CSI1_HSYNC	0xb0b1
+		MX6QDL_PAD_EIM_DA12__IPU2_CSI1_VSYNC	0xb0b1
+	>;
+};
+
+&sata {
+	status = "okay";
+};
+
+&v4l2_cap_2 {
+	compatible = "fsl,imx6q-v4l2-capture";
+	ipu_id = <1>;
+	csi_id = <1>;
+	mclk_source = <0>;
+	status = "okay";
+};
diff --git a/arch/arm/tools/mach-types b/arch/arm/tools/mach-types
index a10297d..f81f66e 100644
--- a/arch/arm/tools/mach-types
+++ b/arch/arm/tools/mach-types
@@ -1007,3 +1007,6 @@ eco5_bx2		MACH_ECO5_BX2		ECO5_BX2		4572
 eukrea_cpuimx28sd	MACH_EUKREA_CPUIMX28SD	EUKREA_CPUIMX28SD	4573
 domotab			MACH_DOMOTAB		DOMOTAB			4574
 pfla03			MACH_PFLA03		PFLA03			4575
+himx0280		MACH_HIMX		HIMX			4759
+himx0294		MACH_HIMX0294		HIMX0294		4922
+
-- 
1.9.3

